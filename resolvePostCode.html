<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html lang="en">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<title>Testcase</title>
	<link rel="stylesheet" type="text/css" href="styles/main.css">
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}
	</style>
	<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3.1/jquery.min.js" type="text/javascript"></script>
	<script type="text/javascript">
		jQuery.noConflict();

		(function($) {

		// XXX: obsolete
		var localAjaxReq = function(uri, data, callback, type) {
			if(window.Components && window.netscape && window.netscape.security && document.location.protocol.indexOf("http") == -1) {
				window.netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead");
			}
			$.get(uri, data, callback, type);
		}

		resolvePostCode = function(query, callback) {
			var uriTemplate = "http://maps.google.com/maps/geo?q=%0&output=%1&oe=utf8&key=%2&callback=?";
			var format = "json";
			var key = "ABQIAAAAiES7eSQ0fgEdOg5320FTVhRIO2r3bGlKFP3hqP-1q0XwBHBFMRQJ4gVR6vXX3sN4RdadK8N9jRyA8A";
			var uri = uriTemplate.replace("%0", query).replace("%1", format).replace("%2", key);
			var _callback = function(data, textStatus) {
				console.log("_callback", arguments);
				resolvePostCodeCallback(data, callback);
			};
			$.getJSON(uri, null, _callback);
		};

		var resolvePostCodeCallback = function(context, callback) {
			console.log("resolvePostCodeCallback", arguments);
		};

		})(jQuery);
	</script>
</head>

<body>
</body>

</html>
